if (self.CavalryLogger) { CavalryLogger.start_js(["OU\/K5"]); }

__d("ChatSidebarSections",[],(function(a,b,c,d,e,f){e.exports={ADMINED_PAGES:"admined_pages",MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list",NEARBY:"nearby",WORKPLACE_BOTS:"workplace_bots",WORKPLACE_OTHERS:"workplace_others",PYMM:"pymm",RECENTS:"recents",GROUPS:"groups"}}),null);
__d("AsyncLoader",["AsyncRequest","BaseAsyncLoader"],(function(a,b,c,d,e,f){function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))(a).setData({ids:c}).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).send()};e.exports=a}),null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","TimeSlice","debounce","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=5,h=new(b("AsyncLoader"))("/ajax/chat/hovercard/sidebar.php","hover"),i=b("JSLogger").create("chat_hovercard");b("Arbiter").subscribe("Hovercard/dirty",h.reset.bind(h));function j(a,c){var d=function(){h.get(a,c)};b("TimeSlice").guard(d,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}function k(a,c){__p&&__p();if(!a)return;j(a,function(d){__p&&__p();b("setTimeoutAcrossTransitions")(function(){__p&&__p();if(!d){i.error("fetch_failure",{id:a});return}b("Bootloader").loadModules(["Hovercard"],function(b){b=b.getDialog(d);if(!b){i.error("no_hovercard",{id:a,endpoint:d});return}a==c.getActiveID()&&c.showHovercard(a,b)},"ChatHovercard")},0)})}function l(a,b){__p&&__p();var c=[];function d(b){b>=0&&b<a.length&&c.push(a[b])}b=a.indexOf(b);if(b>-1){d(b);for(var e=1;e<g;e++)d(b+e),d(b-e)}return c.filter(function(a){return a})}function m(a,c){c=c.getActiveID();if(c){a=a.getShowingUsers();a=l(a,c);j(a,b("emptyFunction"))}}function a(a){var c=a.getHoverController();c.registerDefault(k);c.subscribe("hover",b("debounce")(m.bind(null,a,c),100))}e.exports=a}),null);
__d("ChatOrderedListHover",["csx","ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","mixin","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){b("CSS").addClass(a,"fetching")}function j(a){b("CSS").removeClass(a,"fetching")}c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._orderedList=a,this._root=a.getRoot(),b("Event").listen(this._root,"mouseover",this._mouseOver.bind(this)),b("Event").listen(this._root,"mouseleave",this._mouseLeave.bind(this)),a.subscribe("click",b("shield")(this._hide,this))}a.prototype._mouseOver=function(event){"use strict";if(this._paused)return;var a=event.getTarget();a=b("Parent").bySelector(a,"._42fz")||b("Parent").bySelector(a,"._5a58");a&&this._setActiveItem(a)};a.prototype._mouseLeave=function(event){"use strict";this._setActiveItem(null)};a.prototype._clearTimeouts=function(){"use strict";this._showTimeout&&clearTimeout(this._showTimeout),this._showTimeout=null,this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=null};a.prototype._hide=function(){"use strict";this._showingDialog&&(this._showingDialog.hide(),this._showingDialog=null,this._showingID=null)};a.prototype._show=function(){"use strict";var a=this.getActiveID(),c=!1;this._defaultHandler&&(c=!0,b("ErrorUtils").applyWithGuard(this._defaultHandler,{},[a,this]));c&&this._showingID!=this.getActiveID()&&i(this._activeItem)};a.prototype._setActiveItem=function(a){"use strict";__p&&__p();if(a!=this._activeItem){this._clearTimeouts();this._activeItem&&j(this._activeItem);if(a){this._activeItem=a;a=this._showingDialog?0:600;this._showTimeout=b("setTimeoutAcrossTransitions")(function(){return this._show()}.bind(this),a);this.inform("hover")}else this._activeItem=null,this._hideTimeout=b("setTimeoutAcrossTransitions")(function(){return this._hide()}.bind(this),10),this.inform("leave")}};a.prototype.registerDefault=function(a){"use strict";this._defaultHandler=a};a.prototype.getActiveID=function(){"use strict";var a=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return a||null};a.prototype.showHovercard=function(a,c){"use strict";__p&&__p();if(a==this.getActiveID()&&a!=this._showingID){this._clearTimeouts();j(this._activeItem);this._hide();this._showingDialog=c;this._showingID=a;var d=c.subscribe("mouseenter",this._setActiveItem.bind(this,this._activeItem)),e=c.subscribe("mouseleave",function(){d.unsubscribe(),this._setActiveItem(null)}.bind(this)),f=c.subscribe("hide",function(){this.inform("hovercard_hide"),d.unsubscribe(),e.unsubscribe(),f.unsubscribe()}.bind(this));c.enableBehavior(b("LayerHideOnBlur")).setContext(this._activeItem).setPosition("left").show();this.inform("hovercard_show")}};Object.assign(a.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});e.exports=a}),null);
__d("ChatSidebarConstants",["ChatConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("ChatConfig").get("divebar_rounded_profile",!1),h={IMAGE_SIZE:32,getImageSize:function(){return h.IMAGE_SIZE+(g?2:0)},getItemHeight:function(){return h.IMAGE_SIZE+8}};e.exports=h}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","ChatConfig","Image.react","Link.react","React","TooltipData","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(f).setRelativeSlotClicked(d).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()}.bind(this),c}a.prototype.render=function(){var a=i._("Create New Group"),c=g("492285"),d=24,e="_55ln"+(b("ChatConfig").get("divebar_rounded_profile",!1)?" _qhr":"");return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("Link.react"),{className:e,href:"#",onClick:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},b("React").createElement("div",{className:"_55lq _tt_","aria-hidden":!0},b("React").createElement(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})),b("React").createElement("div",{className:"_55lr"},a))))};a.prototype.$1=function(){return i._("Create New Group")};a.propTypes={slot:c.number,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("SplitImage.bs",["ReasonReact.bs","SplitImage.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("SplitImage.react"),{size:a,srcs:c,className:b("bs_js_null_undefined").from_opt(d)},e)}f.make=a}),null);
__d("FantaProfilePresence.bs",["cx","React","SplitImage.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("FantaProfilePresence");function i(a,c,d,e){e=h.slice();e[9]=function(){return b("React").createElement("div",{className:"_ro7"},b("ReasonReact.bs").element(0,0,b("SplitImage.bs").make(c,a,["_1gyw"],[])),d!==0?b("React").createElement("div",{className:"_1gyx"}):null)};return e}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.images,a.imageSize,+a.isActive,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("ChatSidebarItem.react",["cssVar","cx","ix","xuiglyph","AvailableListConstants","XUIBadge.react","BootloadOnRender.react","ChatConfig","ChatSidebarConstants","CurrentUser","ErrorBoundary.react","FantaProfilePresence.bs","Image.react","InstantGamesWWWChatSidebarConfig","JSResource","LazyComponent.react","Link.react","QE2Logger","QuicksilverSources","React","SplitImage.react","TextWithEmoticons.react","XGamesQuicksilverController","emptyFunction","fbglyph","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("FantaProfilePresence.bs").jsComponent;c=b("React").PropTypes;var m=b("ChatConfig").get("divebar_rounded_profile",!1),n=9,o=function(){return b("React").createElement(b("Link.react"),{"aria-hidden":!0,tabIndex:-1})};d=babelHelpers.inherits(a,b("React").PureComponent);k=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={hover:!1},this.$1=function(){this.setState({hover:!0}),this.props.onMouseEnter()}.bind(this),this.$2=function(){this.setState({hover:!1})}.bind(this),this.renderLastActiveTime=function(){return b("React").createElement("div",{className:"_568-"},this.props.statusTime)}.bind(this),c}a.prototype.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+(m?" _qhr":"");return b("React").createElement(b("ErrorBoundary.react"),{fallbackComponent:o},b("React").createElement(b("Link.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$1,onMouseLeave:this.$2,rel:"ignore"},b("React").createElement("div",{className:"_55lp"},this.$3(),b("React").createElement("div",{className:"_5bon"},this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),b("React").createElement("div",{className:"_55lr"},this.renderName()),b("React").createElement("div",{className:"_55ls"},this.props.context))))};a.prototype.$3=function(){var a=b("ChatConfig").get("presence_on_profile"),c=this.props.imageSize||b("ChatSidebarConstants").IMAGE_SIZE,d=this.props.status===b("AvailableListConstants").ACTIVE,e=this.props.image?[this.props.image]:this.props.images;return b("React").createElement("div",{className:"_55lq"+(a?" _2be2":""),"aria-hidden":!0},b("React").createElement(l,{images:e,imageSize:c,isActive:a&&d}))};a.prototype.renderName=function(){if(this.props.nameCanHaveEmoji)return b("React").createElement(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name});else return this.props.name};a.prototype.renderUnreadCount=function(){var a=this.props.unreadCount;return!a?null:b("React").createElement(b("XUIBadge.react"),{count:a,maxcount:n,type:"regular"})};a.prototype.renderStatus=function(){var a=this.$4();if(!a&&!this.props.statusTime)return null;var c=!0;this.props.unreadCount&&this.props.unreadCount>0&&(a=this.props.statusTime?null:a,c=!1);return b("React").createElement("div",{className:"_568z"+(this.props.showRelationshipIndicator?" _2oov":"")},c?this.renderLastActiveTime():null,a)};a.prototype.renderWaveButton=function(){if(!this.props.showWave||!this.props.userID)return null;return b("gkx")("AT6dSUFvqaQ48TePPsqJaPxoR89sKDrmnkj9AwTUQGCUAO64e0__lqQVl0pZO8oX1VVITdmuH2Oh5NO1Ry2djFb0")&&!this.state.hover?b("React").createElement("div",null):b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};a.prototype.renderBirthday=function(){if(!this.props.birthday)return null;return b("CurrentUser").isWorkUser()&&!b("gkx")("AT6xZmI2OdSYphpl234QKktFXq5sRz0kw7_B2KSTTJG4l__HXq2R95tfCOGk3WHJAmEbSfznHtUDjqZLC1cYF7k9")?null:b("React").createElement(b("Image.react"),{className:"_5dv3",src:s()})};a.prototype.renderPlayingGame=function(){return this.props.statusTime||this.props.birthday||!this.props.isPlayingGame?null:b("React").createElement("div",{className:"_46b2"},b("React").createElement(b("Image.react"),{onClick:this.$5,className:"_46b3",src:u()}))};a.prototype.$5=function(){b("QE2Logger").logExposureForUser("instant_games_presence");if(!b("InstantGamesWWWChatSidebarConfig").games_icon_link)return;var a=b("XGamesQuicksilverController").getURIBuilder().setEnum("source",b("QuicksilverSources").WWW_CHAT_SIDEBAR_PRESENCE).getURI();b("goURI")(a)};a.prototype.$4=function(){var a=b("ChatConfig").get("presence_on_profile");if(this.props.isMessengerOnlyContact)return b("React").createElement(b("Image.react"),{className:"_568_",src:t()});else if(this.props.status===b("AvailableListConstants").ACTIVE)if(this.props.showRelationshipIndicator)return b("React").createElement(b("Image.react"),{className:"_568_",src:i("118297")});else if(!a)return b("React").createElement("span",{style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}});return null};a.defaultProps={onMouseEnter:b("emptyFunction")};a.propTypes={birthday:c.bool,context:c.node,href:c.string,imageSize:c.number,image:c.string,images:c.array,isPlayingGame:c.bool,isMessengerOnlyContact:c.bool,name:c.node.isRequired,nameCanHaveEmoji:c.bool,onClick:c.func,showRelationshipIndicator:c.bool,status:c.number,statusTime:c.string,unreadCount:c.number,userID:c.string,showWave:c.bool};var p=void 0,q=void 0,r=void 0;function s(){p||(p=i("74517"));return p}function t(){r||(r=i("28076"));return r}function u(){q||(q=i("89258"));return q}e.exports=a}),null);
__d("ChatSidebarThread.react",["fbt","Bootloader","ChatOpenTabEventLogger","ChatSidebarItem.react","FantaTabActions","MercuryIDs","MercuryParticipantListRenderer","WebMessengerThreadPermalinks","React","TooltipData","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=10,j="\n";d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){var c=this.props,d=c.slot,e=c.slotOffset,f=c.threadFBID,g=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(e+d).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(d).setSidebarSection("groups").log()},"ChatSidebarThread.react");a.preventDefault();f&&(b("FantaTabActions").openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f),["divebar_groups"]),b("ChatOpenTabEventLogger").logClickOpen(this.props.referrer,f))}.bind(this),c}a.prototype.render=function(){var a=this.props.name,c=k(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:undefined,e=this.props.image?[]:l(this.props.participants);a=a?a:c;return b("React").createElement("div",b("TooltipData").propsFor(this.$1()),b("React").createElement(b("ChatSidebarItem.react"),{context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount,showWave:!1}))};a.prototype.$1=function(){__p&&__p();var a=[],b=this.props.participants.length,c=this.props.numOtherParticipants;b=Math.min(i,b);c-b===1&&b--;var d=0;while(a.length<b&&d<this.props.participants.length){var e=this.props.participants[d].name;e&&a.push(e);d++}b<c&&a.push(g._("and {num} more...",[g._param("num",c-b)]));return a.join(j)};a.propTypes={image:c.string,imageSize:c.number,name:c.string,participants:c.array.isRequired,numOtherParticipants:c.number.isRequired,referrer:c.string,slot:c.number,slotOffset:c.number,status:c.number,threadFBID:c.string,totalSlots:c.number,unreadCount:c.number};a.defaultProps={numOtherParticipants:i};function k(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(!0).setTotalParticipantCount(d).renderParticipantList(c).toString()}function l(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=a}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarThread.react","ChatSidebarSections","ChatSidebarConstants","PresencePrivacy","PresenceStatus","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){var d=a.mercury_thread.participants,e=this.props.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement("li",{className:"_42fz"+(e?" _570-":""),"data-id":a.uid,key:a.uid},b("React").createElement(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:d.length-1,referrer:b("ChatSidebarSections").ORDERED_LIST,slot:c,slotOffset:this.props.slotOffset,status:b("PresenceStatus").getGroup(d),threadFBID:a.uid,totalSlots:this.props.totalSlots}))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("ul",null,this.props.groups.map(this.$1))};a.propTypes={groups:c.array.isRequired,isDisconnected:c.bool,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_55ob")}),b("React").createElement("div",{className:"_55oc"},this.props.children))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return 50+Math.ceil(50-2*(Math.pow(7+a,2)%10))};a=function(a){return b("React").createElement("li",{className:"_42fz"+(a.isDisconnected?" _570-":"")},b("React").createElement("div",{className:"_55ln"+(a.roundedProfile?" _qhr":"")},b("React").createElement("div",{className:"_55lp"},b("React").createElement("span",{className:"_1qh _55lq"}),b("React").createElement("span",{className:"_55lr"},b("React").createElement("span",{className:"_1qh",style:{width:h(a.slot)+"px"}})))))};e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatConfig","ChatOpenTabEventLogger","ChatSidebarItem.react","FantaTabActions","MercuryIDs","WebMessengerThreadPermalinks","React","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=this.props,d=c.sectionName,e=c.slot,f=c.slotOffset,g=c.totalSlots;c=c.userID;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger"],function(a){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection(d).log()},"ChatSidebarUser.react");var h=b("MercuryIDs").getThreadIDFromUserID(c);b("FantaTabActions").openTab(h,["divebar_"+d]);b("ChatOpenTabEventLogger").logUserClickOpen(d,c,{global_slot:e});a.preventDefault();this.$2()}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return b("React").createElement(b("ChatSidebarItem.react"),{onClick:this.$1,href:a,imageSize:this.props.imageSize,image:this.props.image,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,showWave:this.props.showWave})};a.prototype.$2=function(){"use strict";var a=this.props.sectionName;b("ChatConfig").get("in_recents_experiment")&&b("Bootloader").loadModules(["FunnelLogger"],function(b){b.appendAction("WWW_DIVEBAR_RECENTS_FUNNEL","open_tab_"+a)},"ChatSidebarUser.react")};a.propTypes={birthday:c.bool,image:c.string,imageSize:c.number,isPlayingGame:c.bool,name:c.string,sectionName:c.string.isRequired,showRelationshipIndicator:c.bool,slot:c.number,slotOffset:c.number,status:c.number,statusTime:c.string,totalSlots:c.number,unreadCount:c.number,userID:c.string.isRequired,isMessengerOnlyContact:c.bool,context:c.string,showWave:c.bool};e.exports=a}),null);
__d("ChatSidebarUserGroup.react",["cx","AvailableListConstants","ChatConfig","ChatSidebarItemPlaceholder.react","ChatSidebarSections","ChatSidebarUser.react","LastActiveTimes","MercuryConfig","PresencePrivacy","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("ChatConfig").get("divebar_rounded_profile",!1);c=Object.keys(b("ChatSidebarSections")).map(function(a){return b("ChatSidebarSections")[a]});var i=function(a,c,d){if(!c)return b("React").createElement(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:!!a.isDisconnected,key:"placeholder"+d,roundedProfile:h,slot:d});if(!c.id)return null;var e=a.statusMap[c.id],f=e!==b("AvailableListConstants").ACTIVE?b("LastActiveTimes").getShortDisplay(c.id):undefined,g=a.isDisconnected||!b("PresencePrivacy").allows(c.id),i=a.sectionName===b("ChatSidebarSections").NEARBY?c.location:undefined,j=b("gkx")("AT5N7c3vp2KZeBLcdLGCkrCGhNAJHtjW4P7Xmlq4tK83K879cfHJ4CNLjdjOGJAQApRspNV8z5qOFgj3xZqsPbN0");return b("React").createElement("li",{className:"_42fz"+(g?" _570-":""),"data-id":c.id,key:c.id},b("React").createElement(b("ChatSidebarUser.react"),{birthday:c.is_birthday,image:c.thumbSrc,imageSize:a.imageSize,isPlayingGame:!!a.playingMap[c.id],name:c.name,roundedProfile:h,showRelationshipIndicator:c.show_relationship_indicator,sectionName:a.sectionName,slot:d,slotOffset:a.slotOffset,status:e,statusTime:f?f.toString():undefined,totalSlots:a.totalSlots,userID:c.id,unreadCount:a.unreadCounts[c.id],isMessengerOnlyContact:c.is_messenger_only,context:i,showWave:j}))};d=function(a){var c=a.userData,d=babelHelpers.objectWithoutProperties(a,["userData"]);delete d.imageSize;delete d.isDisconnected;delete d.playingMap;delete d.sectionName;delete d.statusMap;delete d.unreadCounts;return b("React").createElement("ul",d,c.map(function(b,c){return i(a,b,c)}))};d.propTypes={imageSize:a.number.isRequired,isDisconnected:a.bool.isRequired,sectionName:a.oneOf(c).isRequired,playingMap:a.object.isRequired,slotOffset:a.number,statusMap:a.object.isRequired,totalSlots:a.number,unreadCounts:a.object.isRequired,userData:a.arrayOf(a.object).isRequired};e.exports=d}),null);
__d("ChatUnreadCountStore",["ChatDispatcher","ChatUnreadCountActionTypes","FluxStore","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),this.__moduleID=e.id}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("ChatUnreadCountActionTypes").COUNT_UPDATED:this.__emitChange();break;default:break}};a.prototype.get=function(a){return b("ifRequired")("ChatUnreadCount",function(b){return b.get().getUnreadCountForUID(a)||0},function(){return 0})};e.exports=new a()}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),this.__moduleID=e.id}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};a.prototype.get=function(a){return b("PresenceStatus").get(a)};a.prototype.getIsPlaying=function(a){return b("PresenceStatus").isPlayingCanvasGameUser(a)};e.exports=new a()}),null);
__d("ShortProfilesActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({PROFILE_UPDATED:null})}),null);
__d("ShortProfilesStore",["ChatDispatcher","ChatProfileStore","FluxStore","ShortProfiles","ShortProfilesActionTypes","debounce","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher")),this.__moduleID=e.id,b("gkx")("AT7b-T545bsAAbOyiRE0i8vzwAqg-R4NRaZ4WCkL5TZUAjQ3ntria2ZiM69962yv5cnbq6KuBYvaMYzUdYYVWB-O")&&(this.$ShortProfilesStore1=b("debounce")(this.$ShortProfilesStore1,50))}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("ShortProfilesActionTypes").PROFILE_UPDATED:this.__emitChange();break;default:break}};a.prototype.getNow=function(a){var c=b("ChatProfileStore").get(a);c||(c=b("ShortProfiles").getNow(a));return c};a.prototype.getMulti=function(a){b("ShortProfiles").getMulti(a,this.$ShortProfilesStore1)};a.prototype.$ShortProfilesStore1=function(a){b("ChatDispatcher").dispatch({type:b("ShortProfilesActionTypes").PROFILE_UPDATED})};e.exports=new a()}),null);
__d("ChatSidebarUserGroupContainer.react",["AvailableListConstants","ChatSidebarSections","ChatSidebarUserGroup.react","ChatUnreadCountStore","PresenceStatusStore","ShortProfilesStore","React","emptyFunction","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h=400,i=5e3;d=Object.keys(b("ChatSidebarSections")).map(function(a){return b("ChatSidebarSections")[a]});f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(a){__p&&__p();g.constructor.call(this,a);this.$1={};this.$2=null;this.$3=null;this.$4=null;this.UNSAFE_componentWillReceiveProps=function(a){this.$9(a)}.bind(this);this.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove()}.bind(this);this.$10=function(){this.$5||(this.$5=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),this.$10=b("emptyFunction")}.bind(this),h))}.bind(this);this.$11=function(){clearTimeout(this.$5),this.$5=null}.bind(this);var c=this.$6(a.ids,a.loadExtras),d=c.playingMap;c=c.statusMap;var e=this.$7(a.ids);a=this.$8(a.ids);this.state={playingMap:d,statusMap:c,unreadCounts:e,userData:a}}a.prototype.componentDidMount=function(){this.$2=b("ChatUnreadCountStore").addListener(function(){this.$9(this.props)}.bind(this)),this.$3=b("PresenceStatusStore").addListener(function(){this.$9(this.props)}.bind(this)),this.$4=b("ShortProfilesStore").addListener(function(){this.$9(this.props)}.bind(this))};a.prototype.shouldComponentUpdate=function(a,b){__p&&__p();for(var c=Object.keys(this.$1),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(this.$1[f])return!1}if(this.props.ids!==a.ids||this.props.imageSize!==a.imageSize||this.props.isDisconnected!==a.isDisconnected||this.props.loadExtras!==a.loadExtras||this.props.sectionName!==a.sectionName||this.state.userData.length!==b.userData.length)return!0;for(var f=Object.keys(this.state.unreadCounts),e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;if(b.unreadCounts[a]!==this.state.unreadCounts[a])return!0}for(var c=Object.keys(this.state.statusMap),a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=c.length)break;e=c[d++]}else{d=c.next();if(d.done)break;e=d.value}f=e;if(b.statusMap[f]!==this.state.statusMap[f])return!0}for(var e=Object.keys(b.statusMap),f=Array.isArray(e),d=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(d>=e.length)break;a=e[d++]}else{d=e.next();if(d.done)break;a=d.value}c=a;if(b.statusMap[c]!==this.state.statusMap[c])return!0}for(var a=0;a<this.state.userData.length;a++)if(!this.state.userData[a]||!b.userData[a]||this.state.userData[a].id!==b.userData[a].id)return!0;return!1};a.prototype.render=function(){return b("React").createElement(b("ChatSidebarUserGroup.react"),{imageSize:this.props.imageSize,isDisconnected:this.props.isDisconnected,playingMap:this.state.playingMap,sectionName:this.props.sectionName,statusMap:this.state.statusMap,unreadCounts:this.state.unreadCounts,userData:this.state.userData,onMouseEnter:this.$10,onMouseLeave:this.$11,slotOffset:this.props.slotOffset,totalSlots:this.props.totalSlots})};a.prototype.$9=function(a){var b=this.$7(a.ids),c=this.$6(a.ids,a.loadExtras),d=c.playingMap;c=c.statusMap;a=this.$8(a.ids);this.setState({playingMap:d,statusMap:c,unreadCounts:b,userData:a})};a.prototype.$6=function(a,c){var d={},e={};a.forEach(function(a){if(c){var f=b("PresenceStatusStore").getIsPlaying(a);d[a]=f}f=b("PresenceStatusStore").get(a);f===b("AvailableListConstants").ACTIVE&&(e[a]=f)});return{statusMap:e,playingMap:d}};a.prototype.$7=function(a){var c={};a.forEach(function(a){c[a]=b("ChatUnreadCountStore").get(a)});return c};a.prototype.$8=function(a){var c=[],d=[];a.forEach(function(a){var e=b("ShortProfilesStore").getNow(a);c.push(e);e?this.$12(a):(this.$13(a),d.push(a))}.bind(this));d.length>0&&b("ShortProfilesStore").getMulti(d);return c};a.prototype.$13=function(a){this.$1[a]===undefined&&(this.$1[a]=b("setTimeoutAcrossTransitions")(function(){this.$1[a]=null,this.$9(this.props)}.bind(this),i))};a.prototype.$12=function(a){var b=this.$1[a];if(!b)return;clearTimeout(b);this.$1[a]=null};a.propTypes={ids:c.arrayOf(c.string).isRequired,imageSize:c.number.isRequired,isDisconnected:c.bool.isRequired,loadExtras:c.bool.isRequired,sectionName:c.oneOf(d).isRequired,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarOrderedList.react",["cx","fbt","ix","AvailableListConstants","Bootloader","BootloadOnRender.react","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarSections","ChatSidebarUserGroupContainer.react","CurrentUser","CSS","Image.react","LazyComponent.react","JSResource","LeftRight.react","Link.react","MessengerWebDriverTestIDs","PresencePrivacy","PresenceStatus","React","ReactDOM","Run","Scroll","SubscriptionsHandler","URI","WorkInviteSource","WorkModeConfig","XPagesBrowserController","XUIButton.react","XWorkInviteCoworkersDialogController","fbglyph","gkx","ifRequired"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=3;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDisconnected:!1,renderBelowFold:!1},this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,b}a.prototype.componentDidMount=function(){b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks));this.$1=new(b("SubscriptionsHandler"))();var a=this.props.groups.filter(function(a){return b("PresenceStatus").getGroup(a.mercury_thread.participants)===b("AvailableListConstants").ACTIVE});b("Bootloader").loadModules(["MessengerDivebarGroupSectionTypedLogger"],function(c){new c().setNumThreadsGenned(this.props.groups.length).setNewDataSource(b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")).setNumThreadsActive(a.length).setGroupsSectionHidden(b("ChatOptions").getSetting("hide_groups")).setCanSeeMockThread(this.props.groups.length===0&&b("ChatConfig").get("create_new_group_mock_thread")&&!b("ChatOptions").getSetting("hide_groups")).log()}.bind(this),"ChatSidebarOrderedList.react");b("Run").onAfterLoad(function(){this.setState({renderBelowFold:!0}),this.$6()}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.render=function(){var a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?this.$7():this.$8();return b("WorkModeConfig").test_group_section_order||b("ChatConfig").get("display_groups_top")?b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$9()),b("React").createElement("div",{ref:"noLinks"},this.$10()),b("React").createElement("div",{ref:"noLinks"},this.$11(),this.$12(),this.$13(),this.$14()),this.$15(),b("React").createElement("div",{ref:"noLinks"},this.$16(),a,this.$17(),this.$18())):b("React").createElement("div",{"data-testid":b("MessengerWebDriverTestIDs").CHAT_SIDEBAR},b("React").createElement("div",{ref:"noLinks"},this.$9()),b("React").createElement("div",{ref:"noLinks"},this.$10()),b("React").createElement("div",{ref:"noLinks"},this.$12()),b("React").createElement("div",{ref:"noLinks"},this.$13(),this.$14()),this.$15(),b("React").createElement("div",{ref:"noLinks"},this.$16(),this.$11(),a,this.$17(),this.$18()))};a.prototype.$19=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};a.prototype.$13=function(){if(!b("ChatConfig").get("show_header")&&!b("WorkModeConfig").test_group_section_order&&!(b("ChatConfig").get("display_groups_top")&&(this.props.groups.length!==0||this.props.groups.length===0&&b("ChatConfig").get("create_new_group_mock_thread")&&!b("ChatOptions").getSetting("hide_groups"))))return null;var a=this.state.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement(b("ChatSidebarHeader.react"),{className:a?"_570-":"",key:"header"},h._("CONTACTS"))};a.prototype.$7=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.topUsers.filter(function(a){return!b("PresencePrivacy").allows(a)});c.splice(-2);var d=b("React").createElement("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog"},h._("Edit")),e=b("WorkModeConfig").is_work_user?h._("MORE COWORKERS"):h._("MORE CONTACTS");d=b("WorkModeConfig").is_work_user?h._("These coworkers can't see you on chat. {=link}",[h._param("=link",d)]):h._("These contacts can't see you on chat. {=link}",[h._param("=link",d)]);return[b("React").createElement(b("ChatSidebarHeader.react"),{key:"usersSeparator1"},e),b("React").createElement(b("ChatSidebarHeader.react"),{className:"_5j9-",key:"usersSeparator2"},d),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:c,isDisconnected:this.state.isDisconnected,imageSize:a,key:b("ChatSidebarSections").OFFLINE_USERS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").OFFLINE_USERS,slotOffset:this.$20(),totalSlots:this.props.maxItemSlots})]};a.prototype.$8=function(){__p&&__p();if(this.props.availableUsers.length===0)return null;if(!this.state.renderBelowFold){var a=b("ChatSidebarConstants").getItemHeight();return[b("React").createElement("div",{key:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,style:{height:a*this.props.availableUsers.length}})]}a=b("ChatSidebarConstants").getImageSize();var c=b("WorkModeConfig").is_work_user?h._({"*":"{MORE ONLINE COWORKERS} ({=count})"},[h._param("MORE ONLINE COWORKERS",h._("MORE COWORKERS")),h._param("=count",this.props.availableUsers.length,[0])]):h._({"*":"{MORE ONLINE CONTACTS} ({=count})"},[h._param("MORE ONLINE CONTACTS",h._("MORE CONTACTS")),h._param("=count",this.props.availableUsers.length,[0])]);a=b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:a,isDisconnected:this.state.isDisconnected,key:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").MORE_ONLINE_FRIENDS,slotOffset:this.$20(),totalSlots:this.props.maxItemSlots});return[b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$4=a}.bind(this),key:"usersSeparator",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$4))}.bind(this)},c),a]};a.prototype.$20=function(){var a=this.$21();a+=this.$22();var b=this.$23();a+=this.$24(b.length);return a};a.prototype.$15=function(){return!b("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:b("React").createElement(b("ChatSidebarHeader.react"),{ref:"nearbySeparator",key:"nearbySeparator"},b("React").createElement(b("LeftRight.react"),null,h._("NEARBY"),b("React").createElement(b("Link.react"),{target:"_blank",href:new(b("URI"))("/help/android-app/291236034364603")},b("React").createElement(b("Image.react"),{className:"_3-90",src:i("129548")}))))};a.prototype.$16=function(){__p&&__p();if(!b("ChatConfig").get("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$21();if(b("WorkModeConfig").test_group_section_order||b("ChatConfig").get("display_groups_top")){var c=this.$23();a+=this.$24(c.length)}c=b("ChatSidebarConstants").getImageSize();var d=this.props.nearby;b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&(d=this.props.nearby.filter(function(a){return b("PresencePrivacy").allows(a)}));return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{key:b("ChatSidebarSections").NEARBY,ids:d,isDisconnected:this.state.isDisconnected,imageSize:c,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").NEARBY,slotOffset:a,totalSlots:this.props.maxItemSlots})};a.prototype.$22=function(){var a=this.props.nearby;b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&(a=this.props.nearby.filter(function(a){return b("PresencePrivacy").allows(a)}));return a.length};a.prototype.$12=function(){if(!b("ChatConfig").get("show_rc_section")||this.props.recents.length===0)return null;var a=this.props.recents;a=this.props.recents.filter(function(a){return b("PresencePrivacy").allowsIfViewerIsOnline(a)});var c=b("ChatSidebarConstants").getImageSize();return[b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$5=a}.bind(this),key:"recentsSeparator",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$5))}.bind(this)},h._("RECENT CONVERSATIONS")),b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:a,isDisconnected:this.state.isDisconnected,imageSize:c,key:b("ChatSidebarSections").RECENTS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").RECENTS})]};a.prototype.$11=function(){var a=this.state.isDisconnected||b("PresencePrivacy").isUserOffline(),c=this.$23(),d=0;!b("WorkModeConfig").test_group_section_order&&!b("ChatConfig").get("display_groups_top")&&(d+=this.$21(),d+=this.$22());if(c.length===0&&!b("ChatConfig").get("create_new_group_mock_thread")||b("ChatOptions").getSetting("hide_groups"))return null;else if(c.length===0)return[this.$25(),b("React").createElement("ul",{key:"unorderedList"},b("React").createElement("li",{className:"_42fz"+(a?" _570-":""),key:0},b("React").createElement(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots})))];return[this.$25(),b("React").createElement(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$24(c.length)),isDisconnected:this.state.isDisconnected,key:"group_threads_section",loadExtras:this.state.renderBelowFold,slotOffset:d,totalSlots:this.props.maxItemSlots})]};a.prototype.$25=function(){var a=this.state.isDisconnected||b("PresencePrivacy").isUserOffline();return b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$2=a}.bind(this),key:"groupSeparator",className:a?"_570-":"",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$2))}.bind(this)},h._("GROUP CONVERSATIONS"))};a.prototype.$23=function(){var a=this.state.isDisconnected||b("PresencePrivacy").isUserOffline();return!a&&(b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")&&b("ChatConfig").get("sort_by_active_groups"))?this.props.groups.sort(function(a,c){return b("PresenceStatus").getGroup(c.mercury_thread.participants)-b("PresenceStatus").getGroup(a.mercury_thread.participants)}):this.props.groups};a.prototype.$24=function(a){if(a===0&&b("ChatConfig").get("create_new_group_mock_thread")&&!b("ChatOptions").getSetting("hide_groups"))return 1;else if(a===0)return 0;return b("gkx")("AT5XEYH1ZrReYerzhKj5_PytaAcJxBVvUm8BnU1UXvJkWL3CRwm9HpjP4d4QdvCcJzEps4hn0e9aiGI9CC7UmRMvSwDP5zZ1DHe3XtDkTFXDIg")?Math.min(a,b("ChatConfig").get("num_groups_to_show")):a};a.prototype.$14=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.topUsers;b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&(c=this.props.topUsers.filter(function(a){return b("PresencePrivacy").allows(a)}));var d=0;if(b("WorkModeConfig").test_group_section_order||b("ChatConfig").get("display_groups_top")){var e=this.$23();d+=this.$24(e.length)}return b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{key:b("ChatSidebarSections").ORDERED_LIST,ids:c,isDisconnected:this.state.isDisconnected,imageSize:a,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").ORDERED_LIST,slotOffset:d,totalSlots:this.props.maxItemSlots})};a.prototype.$21=function(){var a=this.props.topUsers;b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE&&(a=this.props.topUsers.filter(function(a){return b("PresencePrivacy").allows(a)}));return a.length};a.prototype.$18=function(){__p&&__p();if(!b("ChatConfig").get("work_show_invites"))return null;var a=this.state.isDisconnected||b("PresencePrivacy").isUserOffline();if(a){this.props.workWelcomeOverlay&&this.$26(!1);return null}a=this.props.availableUsers.length===0&&this.props.topUsers.length===0&&this.props.workOthers.length===0&&this.props.groups.length===0;var c=null;this.props.workWelcomeOverlay?b("CurrentUser").isWorkUser()&&this.$26(a):a&&(c=b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("Image.react"),{className:"_3-8z",src:i("286109")}),b("React").createElement("h3",{className:"_3-8k"},h._("Reach anyone instantly")),b("React").createElement("div",{className:"_3-8k _5-km"},h._("Invite coworkers to see them here as chat contacts."))));a=b("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source",b("WorkInviteSource").WWW_CHAT_SIDEBAR).getURI();var d=h._("Invite coworkers");return b("React").createElement("div",{className:"_5-kn"},c,b("React").createElement(b("XUIButton.react"),{className:"_3-8i _2w3v ellipsis",label:d,use:"confirm",size:"large",href:"#",ajaxify:a,rel:"dialog"}))};a.prototype.$10=function(){if(!this.props.pymmList)return null;var a=this.props.pymmList.pages;return!this.props.isSidebar||!b("ChatConfig").get("show_businesses")||!a||a.length===0?null:[b("React").createElement(b("BootloadOnRender.react"),{key:"bootloader",loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarOrderedList.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{key:"pymm_container",pymmList:a})})]};a.prototype.$9=function(){if(!b("ChatConfig").get("show_admined_pages")||this.props.adminedPages.length===0||!this.props.pageListModule)return null;var a=null;if(this.props.adminedPages.length>=k){var c=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",this.props.adminedPages[0].ref).getURI();a=b("React").createElement(b("Link.react"),{className:"_2l56",href:c,target:"_blank"},h._("SEE ALL"))}c=this.props.pageListModule;return[b("React").createElement(b("ChatSidebarHeader.react"),{className:"_4kqp",key:b("ChatSidebarSections").ADMINED_PAGES},b("React").createElement(b("LeftRight.react"),null,h._("YOUR PAGES"),a)),b("React").createElement(c,{adminedPages:this.props.adminedPages,key:"pages_section"})]};a.prototype.$17=function(){if(!b("WorkModeConfig").is_work_user||this.props.workOthers.length===0)return null;var a=b("ChatSidebarConstants").getImageSize(),c=h._("{OTHERS} ({count})",[h._param("OTHERS",h._("OTHERS")),h._param("count",this.props.workOthers.length)]);a=b("React").createElement(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.workOthers,imageSize:a,isDisconnected:this.state.isDisconnected,key:b("ChatSidebarSections").WORKPLACE_OTHERS,loadExtras:this.state.renderBelowFold,sectionName:b("ChatSidebarSections").WORKPLACE_OTHERS});return b("React").createElement("div",null,b("React").createElement(b("ChatSidebarHeader.react"),{ref:function(a){this.$3=a}.bind(this),key:"othersSeparator",onClick:function(){return this.$19(b("ReactDOM").findDOMNode(this.$3))}.bind(this)},c),a)};a.prototype.$6=function(){b("Bootloader").loadModules(["ChannelConnection"],function(a){this.$1.addSubscriptions(a.subscribe([a.CONNECTED,a.RECONNECTING,a.SHUTDOWN,a.MUTE_WARNING,a.UNMUTE_WARNING],function(){var c=a.disconnected();c!==this.state.isDisconnected&&(c?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),this.setState({isDisconnected:c}))}.bind(this)))}.bind(this),"ChatSidebarOrderedList.react")};a.prototype.$26=function(a){this.props.workWelcomeOverlay&&(a?b("CSS").show(this.props.workWelcomeOverlay):b("CSS").hide(this.props.workWelcomeOverlay))};a.propTypes={availableUsers:c.array.isRequired,workOthers:c.array.isRequired,groups:c.array.isRequired,recents:c.array.isRequired,scrollContainer:c.object,topUsers:c.array.isRequired,nearby:c.array.isRequired,adminedPages:c.array.isRequired,pageListModule:c.func,pymmList:c.object.isRequired,isSidebar:c.bool,workWelcomeOverlay:c.object,maxItemSlots:c.number};e.exports=a}),null);
__d("MessengerDivebarSizingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setMaxItemSlots=function(a){this.$1.max_item_slots=a;return this};a.prototype.setNumAdminedPages=function(a){this.$1.num_admined_pages=a;return this};a.prototype.setNumGroups=function(a){this.$1.num_groups=a;return this};a.prototype.setNumNearby=function(a){this.$1.num_nearby=a;return this};a.prototype.setNumPymm=function(a){this.$1.num_pymm=a;return this};a.prototype.setNumRecents=function(a){this.$1.num_recents=a;return this};a.prototype.setNumTopFriends=function(a){this.$1.num_top_friends=a;return this};a.prototype.setNumTopFriendsShown=function(a){this.$1.num_top_friends_shown=a;return this};a.prototype.setSidebarType=function(a){this.$1.sidebar_type=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={max_item_slots:!0,num_admined_pages:!0,num_groups:!0,num_nearby:!0,num_pymm:!0,num_recents:!0,num_top_friends:!0,num_top_friends_shown:!0,sidebar_type:!0};e.exports=a}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function h(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?[]:arguments[2],e=[];a.forEach(function(a){var f=a[0];a=a[1];if(e.length>=c)return;if(b("PresencePrivacy").getFriendVisibility(f)==b("PresencePrivacy").BLACKLISTED)return;a==b("PresenceStatus").get(f)&&!d.includes(f)&&e.push(f)});return e}function a(){"use strict";this.$1=null}a.prototype.getSorted=function(a,c){var d=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];if(this.$1){c(h(this.$1,a,d));return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;this.$1=g(b);c(h(this.$1,a,d))}.bind(this))};a.prototype.getAvailableSorted=function(a){"use strict";var c=b("PresenceStatus").getOnlineIDs();a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};a.prototype.getAllSorted=function(a){"use strict";var c=[],d=this.$1||[];b("PresenceStatus").getAllIDs().concat(d.map(function(a){return a[0]})).forEach(function(a){return c.indexOf(a)===-1&&c.push(a)});a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};e.exports=new a()}),null);
__d("ChatOrderedList",["csx","Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","Bootloader","ChatConfig","ChatHovercard","ChatOptions","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarOrderedList.react","ChatSidebarPreloadStore","ChatSidebarStore","CSS","DataStore","DOM","Event","JSLogger","MercuryParticipantTypes","MessengerDivebarSizingTypedLogger","onAfterDisplay","Parent","PresenceOrderedList","PresencePrivacy","React","ReactDOM","ShortProfilesStore","SidebarType","WorkModeConfig","debounceAcrossTransitions","gkx","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;function a(a,c,d){"use strict";__p&&__p();h.constructor.call(this),this._workWelcomeOverlay=d,this._root=c,this._isVisible=!1,this._excludedIds={},this._numTopFriends=5,this._adminedPages=[],this._pageListModule=null,this._pymmList={config:null,pages:[]},this._groups=[],this._nearby=[],this._recents=[],this._hoverController=null,this._isHovering=!1,this._skippedRenderDuringHover=!1,this._isSidebar=a,this._maxItemSlots=0,this._orderedList=b("DOM").find(this._root,".fbChatOrderedList"),b("Event").listen(this._orderedList,"mouseover",function(){this._isHovering=!0}.bind(this)),b("Event").listen(this._orderedList,"mouseout",function(){this._isHovering=!1,this._skippedRenderDuringHover&&(this._skippedRenderDuringHover=!1,this._render())}.bind(this)),this._scrollableOrderedList=b("Parent").byClass(this._root,"scrollableOrderedList"),this._scrollableArea=b("Parent").byClass(this._root,"scrollable"),a&&new(b("ChatHovercard"))(this),b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){this.getSortedList(function(a){c.chat_lists=c.chat_lists||{sorted_list:a,available_list:b("PresenceOrderedList").getAvailableSorted(),excluded_list:this._excludedIds}}.bind(this))}.bind(this)),b("gkx")("AT6TwEfyE3S3vuj5vzRrcHEi-HcoHeZ6vee22bU63x8bdHsLirNM3h1OMH1kyUhz92T9lqrOtqys1ni5dEuGQ43h")?b("onAfterDisplay")(function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return this._render()}.bind(this)),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this._render()}.bind(this))}.bind(this)):(b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return this._render()}.bind(this)),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this._render()}.bind(this))),this._maybeStartRecentsSectionFunnelLog()}a.prototype.getShowingUsers=function(){"use strict";return b("DOM").scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode)};a.prototype.getUserForNode=function(a){"use strict";return b("DataStore").get(a,"id")||b("DataStore").get(a,"serverthreadid")};a.prototype.getHoverController=function(){"use strict";this._hoverController||(this._hoverController=new(b("ChatOrderedListHover"))(this));return this._hoverController};a.prototype.getItemHeight=function(){"use strict";return b("ChatSidebarConstants").getItemHeight()};a.prototype.getRoot=function(){"use strict";return this._root};a.prototype.getSortedList=function(a){"use strict";b("PresenceOrderedList").getSorted(this._numTopFriends,function(b){return a(b)})};a.prototype.hide=function(){"use strict";if(!this._isVisible)return;this._isVisible=!1;b("CSS").hide(this._scrollableOrderedList||this._root);this.inform("hide")};a.prototype.setNumTopFriends=function(a,c,d){"use strict";__p&&__p();b("ChatSidebarPreloadStore").onLoaded(function(e){__p&&__p();var f=e.groups,g=e.nearby,h=e.adminedPages,i=e.pageListModule,j=e.pymmList;e=e.recents;var k=new(b("MessengerDivebarSizingTypedLogger"))();k.setMaxItemSlots(a).setSidebarType(d);a--;b("ChatConfig").get("show_header")&&a--;var l=b("gkx")("AT6ezxCFIuDr3f155YU0cVompttkL6-4ye5A4xnJR5wWiQ5IOmLV0d94XM9VgwajF9248OtJTIz0cnvOn5PCMW2_"),m=!b("ChatOptions").getSetting("hide_businesses")&&j.pages;l&&m&&(a-=3);h=b("ChatOptions").getSetting("hide_admined_pages")?[]:h;l&&h.length&&(a-=h.length+1);this._maxItemSlots=a;l=a;var n=b("ChatOptions").getSetting("hide_groups")?[]:f;m=m?j:{config:null,pages:[]};j=Math.min(n.length,b("ChatConfig").get("num_groups_to_show"));j===0&&b("ChatConfig").get("create_new_group_mock_thread")&&!b("ChatOptions").getSetting("hide_groups")&&j++;j>0&&(l-=j+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&g.length>0&&(l-=g.length+1);b("ChatConfig").get("show_admined_pages")&&h.length>0&&(l-=h.length+1);b("ChatConfig").get("show_rc_section")&&e.length>0&&(l-=e.length+1);b("ChatConfig").get("show_businesses")&&m.pages.length>0&&(l-=2);j=l;l=Math.min(a,Math.max(l,b("ChatConfig").get("min_top_friends")||0));if(l!==this._numTopFriends||n.length!==this._groups.length||g.length!==this._nearby.length||h.length!==this._adminedPages.length||m.pages.length!==this._pymmList.pages.length||e.length!==this._recents.length){this._groups=n;this._numTopFriends=l;this._nearby=g;this._adminedPages=h;this._pageListModule=i;this._pymmList=m;this._recents=e;k.setNumTopFriends(l).setNumNearby(g.length).setNumGroups(f.length).setNumAdminedPages(h.length).setNumPymm(m.pages.length).setNumRecents(e.length);n=0;d===b("SidebarType").BUDDYLIST&&h.length>0&&(n+=h.length+1,k.setNumAdminedPages(0));d===b("SidebarType").BUDDYLIST&&m.pages.length>0&&(k.setNumPymm(0),n+=2);j+=n;l>j&&(j+=1);k.setNumTopFriendsShown(Math.max(j,0));b("ChatSidebarStore").getVisibleType()===d&&k.log();c?(typeof this._render.reset==="function"&&this._render.reset(),this._renderOrderedList()):this._render()}}.bind(this))};a.prototype._renderOrderedList=function(){"use strict";__p&&__p();if(!this._isVisible||this._isHovering){this._isHovering&&(this._skippedRenderDuringHover=!0);return}b("PresenceOrderedList").getSorted(this._numTopFriends,function(a){var c=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(this._nearby).concat(this._recents)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type===b("MercuryParticipantTypes").FB4C}):b("PresenceOrderedList").getAvailableSorted(a.concat(this._nearby).concat(this._recents)),d=b("WorkModeConfig").is_work_user?b("PresenceOrderedList").getAllSorted(a.concat(this._nearby).concat(this._recents)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!==b("MercuryParticipantTypes").FB4C}):[];a=a.filter(function(a){return!this._nearby||this._nearby.indexOf(a)===-1}.bind(this));b("ReactDOM").render(b("React").createElement(b("ChatSidebarOrderedList.react"),{availableUsers:c,workOthers:d,scrollContainer:this._scrollContainer,topUsers:a,groups:this._groups,nearby:this._nearby,adminedPages:this._adminedPages,pageListModule:this._pageListModule,pymmList:this._pymmList,isSidebar:this._isSidebar,workWelcomeOverlay:this._workWelcomeOverlay,recents:this._recents,maxItemSlots:this._maxItemSlots+1}),this._orderedList);this.inform("render")}.bind(this),this._recents)};a.prototype._render=function(){"use strict";this._render=b("debounceAcrossTransitions")(this._renderOrderedList.bind(this),300),this._render()};a.prototype.show=function(){"use strict";if(this._isVisible)return;this._isVisible=!0;b("CSS").show(this._scrollableOrderedList||this._root);this._render();this.inform("show")};a.prototype.isVisible=function(){"use strict";return this._isVisible};a.prototype.setScrollContainer=function(a){"use strict";b("DOM").contains(a,this._root)&&(this._scrollContainer=a)};a.prototype._maybeStartRecentsSectionFunnelLog=function(){"use strict";this._isSidebar&&b("ChatConfig").get("in_recents_experiment")&&b("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_DIVEBAR_RECENTS_FUNNEL"),b("ChatConfig").get("show_rc_section")&&a.appendAction("WWW_DIVEBAR_RECENTS_FUNNEL","show_recents")},"ChatOrderedList")};e.exports=a}),null);