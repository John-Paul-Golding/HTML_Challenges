if (self.CavalryLogger) { CavalryLogger.start_js(["t4fjv"]); }

__d("XProfileTilesLogDismissController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/tiles/log/dismiss/",{section_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("ProfileTileActions",["csx","cx","CSS","Event","AsyncRequest","XProfileTilesLogDismissController","tidyEvent"],(function(a,b,c,d,e,f,g,h){a={addCollapseListeners:function(a,c){var d=a.querySelector("._3vay");d!==null&&b("tidyEvent")(b("Event").listen(d,"click",function(event){b("CSS").addClass(a,"_65tv");var d=b("XProfileTilesLogDismissController").getURIBuilder().setEnum("section_type",c);new(b("AsyncRequest"))().setURI(d.getURI()).setMethod("POST").send()}))}};e.exports=a}),null);
__d("findTag",["TAAL","$","ex"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c){__p&&__p();var d=b("$")(a);if(!c){if(d instanceof HTMLElement)return d;throw new Error(b("TAAL").blameToPreviousFile(b("ex")('Element with ID "%s" is not an HTMLElement',a)))}var e=d.tagName.toLowerCase();if(e!==c)throw new Error(b("TAAL").blameToPreviousFile(b("ex")("Expected $('%s') to be of type '%s' but got '%s' instead.",a,c,e)));return d};e.exports=a}),null);
__d("TimelineCapsule",["csx","Arbiter","DataStore","DOM","DOMQuery","FbFeedKeyboardController","Parent","TimelineConstants","TimelineLegacySections","findTag"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1;function i(a,c){a=b("Parent").byAttribute(a,"data-size");a&&c(a)}a={removeUnit:function(a){i(a,function(a){b("DOM").remove(a)})},loadTwoColumnUnits:function(a){__p&&__p();var c=b("findTag")(a);b("DOMQuery").scry(c,"._3ram").forEach(function(a){var d=a.getAttribute("data-endmarker"),e=a.getAttribute("data-pageindex"),f=function(){if(!a.parentNode)return;b("DataStore").set(b("TimelineConstants").DS_LOADED,c.id,e);b("DOM").remove(a);b("Arbiter").inform(b("TimelineConstants").SECTION_FULLY_LOADED,{scrubberKey:d,pageIndex:e,capsuleID:c.id,childCount:c.childNodes.length})};b("TimelineLegacySections").get(d)?f():(function(){var a=b("Arbiter").subscribe(b("TimelineConstants").SECTION_REGISTERED,function(b,c){c.scrubberKey===d&&(f(),a.unsubscribe())})})()});h||(h=!0,b("FbFeedKeyboardController").init(c))}};e.exports=a}),null);
__d("TimelineStickyHeader",["Animation","Arbiter","BlueBar","Bootloader","CSS","DOM","DOMQuery","Event","ProfileTabConst","ProfileTabUtils","ProfileTimelineUILogger","Style","TimelineComponentKeys","TimelineController","UITinyViewportAction","Vector","ViewportBounds","emptyFunction","ge","getOrCreateDOMID","nullthrows","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=200,h=358,i=48,j=!1,k=!1,l=void 0,m=void 0;void 0;var n=void 0,o=!1,p=0,q=void 0,r=void 0,s={},t={VISIBLE:"TimelineStickyHeader/visible",ADJUST_WIDTH:"TimelineStickyHeader/adjustWidth",init:function(a){__p&&__p();if(j)return;j=!0;l=a;m=b("DOM").find(a,"div.name");b("DOM").find(a,"div.actions");k=b("CSS").hasClass(a,"fbTimelineStickyHeaderVisible");var c=void 0,d=!1,e=!0;b("queryThenMutateDOM")(function(){var a=b("nullthrows")(b("BlueBar").getBar());a.offsetTop&&!b("ge")("page_admin_panel")&&b("TimelineController").getCurrentKey()!==b("ProfileTabConst").TIMELINE&&(c=b("Vector").getElementDimensions(a).y,d=!0);e=b("BlueBar").hasFixedBlueBar()},function(){d?b("Bootloader").loadModules(["StickyController"],function(b){new b(a,c).start()},"TimelineStickyHeader"):b("CSS").addClass(a,"fixed_elem"),e||b("CSS").addClass(a,"fbTimelineStickyHeaderNonFixedBlueBar"),t.updateBounds(),t.toggleVisibilityOnFocus(),b("TimelineController").register(b("TimelineComponentKeys").STICKY_HEADER,t)},"TimelineStickyHeader/init")},reset:function(){j=!1,k=!1,l=null,m=null,s={},n&&n.remove(),n=null},toggleVisibilityOnFocus:function(){b("Event").listen(l,"focusin",function(){t.toggle(!0)}),b("Event").listen(l,"focusout",function(event){var a=event.relatedTarget||null;b("DOMQuery").contains(l,a)||t.check(b("Vector").getScrollPosition().y)})},handleTabChange:function(a){var c=b("nullthrows")(l);p=b("ProfileTabUtils").isTimelineTab(a)?h-i:0;if(!b("ProfileTabUtils").tabHasStickyHeader(a)){t.toggle(!1,function(){b("CSS").hide(c)});return}b("CSS").show(c)},updateBounds:function(){b("queryThenMutateDOM")(function(){l&&(q=l.offsetTop,r=l.scrollHeight)},function(){n=b("ViewportBounds").addTop(function(){return k?q+r:0})},"TimelineStickyHeader/init")},check:function(a){a=!b("UITinyViewportAction").isTiny()&&(p===0||a>=p);t.toggle(a)},toggle:function(a,c){__p&&__p();if(!l)return;if(a===k){c&&c();return}var d=a?q-r:q,e=a?q:q-r;b("Style").set(l,"top",d+"px");b("CSS").addClass(l,"fbTimelineStickyHeaderAnimating");var f=b("getOrCreateDOMID")(l);s[f]&&s[f].stop();s[f]=new(b("Animation"))(l).from("top",d).to("top",e).duration(g).ondone(function(){__p&&__p();s[f]=null,a&&!o&&(b("ProfileTimelineUILogger").logStickyHeaderImpression(),o=!0),b("queryThenMutateDOM")(b("emptyFunction"),function(){if(!l)return;b("CSS").conditionClass(l,"fbTimelineStickyHeaderHidden",!a);l.setAttribute("aria-hidden",a?"false":"true");b("CSS").removeClass(l,"fbTimelineStickyHeaderAnimating");b("Style").set(l,"top","");t.updateBounds();b("Arbiter").inform(t.VISIBLE,a);c&&c()})}).go();k=a;k&&t.adjustWidth()},adjustWidth:function(){b("Arbiter").inform(t.ADJUST_WIDTH,m,b("Arbiter").BEHAVIOR_STATE)}};e.exports=a.TimelineStickyHeader||t}),null);
__d("ButtonGroup",["CSS","DataStore","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g="firstItem",h="lastItem";function i(a,c){a=b("Parent").byClass(a,c);if(!a)throw new Error("invalid use case");return a}function j(a){return b("CSS").shown(a)&&Array.from(a.childNodes).some(b("CSS").shown)}function k(a){var c,d,e;Array.from(a.childNodes).forEach(function(a){e=j(a),b("CSS").removeClass(a,g),b("CSS").removeClass(a,h),b("CSS").conditionShow(a,e),e&&(c=c||a,d=a)});c&&b("CSS").addClass(c,g);d&&b("CSS").addClass(d,h);b("CSS").conditionShow(a,c)}function a(a,b){b=i(b,"uiButtonGroupItem");a(b);k(b.parentNode)}function l(a){"use strict";this._root=i(a,"uiButtonGroup"),b("DataStore").set(this._root,"ButtonGroup",this),k(this._root)}l.getInstance=function(a){"use strict";a=i(a,"uiButtonGroup");var c=b("DataStore").get(a,"ButtonGroup");return c||new l(a)};Object.assign(l.prototype,{hideItem:a.bind(null,b("CSS").hide),showItem:a.bind(null,b("CSS").show),toggleItem:a.bind(null,b("CSS").toggle)});e.exports=l}),null);
__d("TimelineStickyHeaderNav",["Arbiter","BlueBar","ButtonGroup","CSS","DataStore","DateStrings","DOM","Event","Parent","ProfileTimelineUILogger","SelectorDeprecated","Style","SubscriptionsHandler","TimelineComponentKeys","TimelineConstants","TimelineController","UITinyViewportAction","URI","Vector","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=!1;a=void 0;var h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r={},s={},t=[],u=!1,v=[],w=[],x=void 0,y=80;function z(){var a=b("SelectorDeprecated").getSelectorMenu(k);x.addSubscriptions(b("Event").listen(a,"click",A),b("Arbiter").subscribe(b("TimelineConstants").SECTION_REGISTERED,C))}function A(event){var a=b("Parent").byTag(event.getTarget(),"a");a=a&&b("DataStore").get(a,"key");a&&(b("TimelineController").stickyHeaderNavWasClicked(a),b("TimelineController").navigateToSection(a),b("ProfileTimelineUILogger").logStickyHeaderScrubberClick(a),event.prevent())}function B(a){p===a&&Object.prototype.hasOwnProperty.call(n,a)&&!h.custom_subsection_menu?H(a):D(),b("TimelineController").adjustStickyHeaderWidth()}function C(a,c){a=c.section;c=a&&a.getParentKey();if(!c)return;var d=G(c),e=b("TimelineController").getCurrentScrubber();a=a.getScrubberKey();e=e?e.getLabelForSubnav(c,a):e=E(a);e&&(Object.prototype.hasOwnProperty.call(n,a)||(n[c]=[]),I(d,{key:a,label:e,sectionKey:c,month:F(a)}),B(c))}function D(){i&&i.hideItem(l)}function E(a){a=F(a);return b("DateStrings").getMonthName(a)}function F(a){a=a.split("_");return parseInt(a.pop(),10)}function G(a){var c=m[a];if(!c){c=m[a]=l.cloneNode(!0);var d=b("DOM").scry(c,"li.activityLog a")[0];d&&(d.href=new(b("URI"))(d.href).addQueryData({key:a}));x.addSubscriptions(b("Event").listen(c,"click",A))}return c}function H(a){a=G(a);b("DOM").insertAfter(l,a);b("CSS").hide(l);for(var c in m){var d=m[c];b("CSS").conditionShow(d,d===a)}i&&i.showItem(l)}function I(a,c){__p&&__p();var d=b("DOM").create("a",{href:"#",rel:"ignore",className:"itemAnchor",tabIndex:0},b("DOM").create("span",{className:"itemLabel fsm"},c.label));d.setAttribute("data-key",c.key);d.setAttribute("aria-checked",!1);d=b("DOM").create("li",{className:"uiMenuItem uiMenuItemRadio uiSelectorOption"},d);d.setAttribute("data-label",c.label);var e=b("DOM").find(a,"ul.uiMenuInner"),f=b("DOM").create("option",{value:c.key},c.label);a=b("DOM").find(a,"select");if(c.key==="recent")b("DOM").prependContent(e,d),b("DOM").insertAfter(a.options[0],f);else if(c.sectionKey!==undefined&&c.sectionKey!==null&&c.month!==undefined&&c.month!==null){var g=n[c.sectionKey];if(g.length<1)b("DOM").appendContent(e,d),b("DOM").appendContent(a,f);else{var h=null;g.forEach(function(a,b){b<c.month&&(h=a)});h!==null?(b("DOM").insertAfter(h.menuItem,d),b("DOM").insertAfter(h.selectOption,f)):(b("DOM").insertBefore(g[0].menuItem,d),b("DOM").insertBefore(g[0].selectOption,f))}g[c.month]={menuItem:d,selectOption:f}}else b("DOM").appendContent(e,d),b("DOM").appendContent(a,f)}function J(a,c){__p&&__p();var d=b("DOM").scry(a,"li.uiMenuItem");if(!d)return;for(var e=0;e<d.length;e++){var f=d[e];if(b("CSS").hasClass(f,c)||f.firstChild.getAttribute("data-key")==c){b("DOM").remove(f);break}}f=b("DOM").find(a,"select");e=b("DOM").scry(f,"option");for(var d=0;d<e.length;d++)if(e[d].value===c){b("DOM").remove(e[d]);return}}function K(event){var a=b("Parent").byClass(event.target,"itemAnchor");if(a){a=b("DataStore").get(a,"tab-key");a&&b("ProfileTimelineUILogger").logStickyHeaderNavItemClick(a)}}var L={init:function(c,d){__p&&__p();if(g)return;g=!0;a=c;h=d||{};j=b("DOM").scry(a,"div.pageMenu")[0];k=b("DOM").find(a,"div.sectionMenu");l=b("DOM").find(a,"div.subsectionMenu");j&&(q=b("DOM").find(j,"li.uiMenuSeparator"),i=b("ButtonGroup").getInstance(j));x=new(b("SubscriptionsHandler"))();m={};n={};o={};L.adjustMenuHeights();z();b("TimelineController").register(b("TimelineComponentKeys").STICKY_HEADER_NAV,L);w.forEach(function(a){a()});j&&x.addSubscriptions(b("Event").listen(j,"click",K))},reset:function(){g=!1,h={},t=[],r={},s={},u=!1,v=[],a=null,j=null,k=null,l=null,q=null,m={},n={},o={},x.release()},addTimePeriod:function(a){var c=b("TimelineController").getCurrentScrubber();if(!c)return;c=c.getLabelForNav(a);if(!c)return;I(k,{key:a,label:c});c=b("DOM").find(k,"ul.uiMenuInner");(a==="recent"||c.children.length<2)&&b("SelectorDeprecated").setSelected(k,a,!0)},updateSection:function(a,c){if(c){var d=G(a);b("SelectorDeprecated").setSelected(d,c)}else o[a]=!0;p=a;b("SelectorDeprecated").setSelected(k,a,!0);B(a)},adjustMenuHeights:function(){var a="";b("queryThenMutateDOM")(function(){b("UITinyViewportAction").isTiny()||(a=b("Vector").getViewportDimensions().y-b("Vector").getElementDimensions(b("BlueBar").getBar()).y-y,a+="px")},function(){if(!j)return;[j,k].map(function(c){c&&b("Style").set(b("DOM").find(c,"ul.uiMenuInner"),"maxHeight",a)})})},initPageMenu:function(a,c){__p&&__p();if(!g){w.push(L.initPageMenu.bind(null,a,c));return}function d(a,c){a.forEach(function(a){a=s[a]=b("DOM").create("li");b("CSS").hide(a);j&&(c?b("DOM").insertBefore(q,a):b("DOM").appendContent(b("DOM").find(j,"ul.uiMenuInner"),a))})}d(a,!0);d(c,!1);r.info=b("DOM").scry(j,"li")[0];t=c;u=!0;v.length&&v.forEach(function(a){L.registerPageMenuItem(a.key,a.item)})},registerPageMenuItem:function(a,c){if(!u){v.push({key:a,item:c});return}s[a]&&(b("DOM").replace(s[a],c),r[a]=c,delete s[a],t.indexOf(a)>=0&&q&&b("CSS").show(q))},removeTimePeriod:function(a){J(k,a)},hideSectionMenu:function(){g&&b("CSS").hide(k)}};e.exports=L}),null);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","Layer","Parent","SelectorDeprecated","DataStore"],(function(a,b,c,d,e,f){function g(a,c){a=b("Parent").byClass(a,"bg_stat_elem")||b("Parent").byClass(a,"uiButtonGroup");!a&&c&&(a=b("DataStore").get(c,"toggleElement",null));a&&(c&&b("DataStore").set(c,"toggleElement",a),b("CSS").toggleClass(a,"uiButtonGroupActive"))}b("Layer").subscribe(["hide","show"],function(a,c){(c instanceof b("ContextualLayer")||c instanceof b("ContextualDialog"))&&g(c.getCausalElement(),c)});b("SelectorDeprecated").subscribe(["close","open"],function(a,b){g(b.selector)})}),null);