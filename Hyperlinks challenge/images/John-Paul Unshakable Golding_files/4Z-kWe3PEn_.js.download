if (self.CavalryLogger) { CavalryLogger.start_js(["DHS1P"]); }

__d("MessengerReadReceipt.bs",["bs_array","Utils.bs","immutable","bs_js_boolean","MercuryActionStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a,c,d,e){__p&&__p();c=+(c>=a.timestamp);var f=a.status;e=1-e||+(d!==a.author);if(c!==0)if(f==null)if(e!==0)return 1;else return 0;else if(e!==0&&f===b("MercuryActionStatus").SUCCESS)return 1;else return 0;else return 0}function a(a,c,d){__p&&__p();if(c==null)return[];else{a=a[c.thread_id];if(a!==undefined)return a.reduce(function(a,e,f,g){if(h(c,e.watermark,f,b("Utils.bs").isTruthy(d)))return b("bs_array").append(a,[f]);else return a},[]);else return[]}}function c(a,c){a=a[c.thread_id];if(a!==undefined)return b("bs_js_boolean").to_js_boolean(a.reduce(function(a,b,d,e){if(a)return h(c,b.watermark,d,0);else return 0},1));else return!1}function d(a,c){a=a[c];if(a!==undefined)return a;else return b("immutable").OrderedMap()}function e(a,b,c){a=a[b];if(a!==undefined){b=a.get(c);if(b==null)return null;else return b}else return null}f.emptyReadReceipts=g;f.wasSeen=h;f.getSeenBy=a;f.wasSeenByAll=c;f.getSeenTimestamps=d;f.getSeenTimestamp=e}),null);